<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .myInput {
            height: 40px;
        }
    </style>
</head>
<body>
        <!-- // 获取代办列表
            export function getTodoTask (params = {}) {
            return fetch({
                url: '/api/base/data/export/todo/common/todoTask',
                params
            })
            }
        -->
        <!-- 
            功能：获取老师分组
            接口：GET /analysis/view/tutor/teacher
            参数：schoolId gradeId
         -->
        
    <input type="text" name="" id="" class="myInput">
    <button id="transfer">转换</button>
    <script>
        let transferBtn = document.getElementById('transfer')
        let tobeTransfered = document.getElementsByClassName('myInput')
        function transfer (content) {
            // 注释获取
            let commentStartIndex = 3
            let commentEndIndex = content.indexOf('接口')
            let comment = content.slice(3, commentEndIndex)
            // url获取
            let urlStartIndex = content.indexOf('/')
            let urlEndIndex =  content.indexOf('参数')
            let url = content.slice(urlStartIndex, urlEndIndex - 1)
            // 请求方法获取
            let template = `
                // ${comment}
                export function () {
                  return fetch({
                    url: '/api/base/data${url}'
                  })
                }
            `
            console.log(template)
        }
        transferBtn.addEventListener('click', () => {transfer(tobeTransfered[0].value)}, false)
    </script>
</body>
</html>